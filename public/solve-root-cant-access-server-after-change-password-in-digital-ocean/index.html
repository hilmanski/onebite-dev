<!DOCTYPE html>
<html lang="en">

<head>
    



 
     
    







<title>Solve root can&#39;t access server after change password in digital ocean</title>
<meta name="description" content="Learn how to solve when root user can&#39;t access server after change new password in digital ocean. You already change new password but still can&#39;t access root" property="og:description">

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@hilmanski" />
<meta name="twitter:creator" content="@hilmanski" />
<meta name="twitter:image" content='https://ogi.sh/article?title=Solve root can&#39;t access server after change password in digital ocean&subtitle=One%20code%20at%20a%20time&unsplashId=TWMI7B4KeLY&logo=https://ik.imagekit.io/kodingclub/onebite/onebite-logo_QwhRyJ3b0.png'>

<meta property="og:url" content="https://onebite.dev/solve-root-cant-access-server-after-change-password-in-digital-ocean/" />
<meta property="og:title" content="Solve root can&#39;t access server after change password in digital ocean" />
<meta property="og:description" content="Learn how to solve when root user can&#39;t access server after change new password in digital ocean. You already change new password but still can&#39;t access root" />
<meta property="og:image" content="https://ogi.sh/article?title=Solve root can&#39;t access server after change password in digital ocean&subtitle=One%20code%20at%20a%20time&unsplashId=TWMI7B4KeLY&logo=https://ik.imagekit.io/kodingclub/onebite/onebite-logo_QwhRyJ3b0.png" />

<script defer type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Article",
      "headline": "Solve root can't access server after change password in digital ocean",
      "author": {
        "@type": "Person",
        "name": "@hilmanski"
      },
      "datePublished": "2021-07-25",
      "description": "Learn how to solve when root user can't access server after change new password in digital ocean. You already change new password but still can't access root",
      "dateModified": "2021-07-25",
      "image": {
        "@type": "imageObject",
        "url": "https:\/\/ogi.sh\/article?title=Solve root can\u0027t access server after change password in digital ocean\u0026subtitle=One%20code%20at%20a%20time\u0026unsplashId=TWMI7B4KeLY\u0026logo=https:\/\/ik.imagekit.io\/kodingclub\/onebite\/onebite-logo_QwhRyJ3b0.png"
      },
      "publisher": {
        "@type": "Organization",
        "name": "Onebite Dev",
        "logo": {
          "@type": "imageObject",
          "url": "https://onebite.dev/favicon-32x32.png"
        }
      }
    }
  </script>
    
    
   
    <link rel="stylesheet" href="https://onebite.dev/sass/main.min.25fbe381f72d8542aa860aad857a997416d36ca77c878fa79ead99bd1242bcb7.css">
    
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    
    <meta name="robots" content="index,follow" />
    <meta name="googlebot" content="index,follow" />
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
</head>

<body>
    <header>
    <div class="flex is-align-items is-space-between">
       <div class="flex-on-mobile is-align-items">
            <a href="/">
                <svg width="65" height="54" viewBox="0 0 65 54" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M11.7035 2.37363C6.18061 2.37363 1.70346 6.85078 1.70346 12.3736V42.8132C1.70346 48.336 6.18061 52.8132 11.7035 52.8132H56.2751C58.991 52.8132 61.4541 51.7305 63.2562 49.9731C59.5478 48.7036 56.3675 45.7708 54.2339 43.8032C53.3572 42.9947 52.6572 42.3492 52.1699 42.049C50.9353 41.2883 51.2262 38.8772 51.5388 36.2859C51.8271 33.8963 52.1339 31.3536 51.28 29.8105C50.5066 28.4128 50.7229 27.836 51.0768 26.8921C51.5373 25.6638 52.2308 23.8139 51.28 18.7249C49.51 9.25073 56.9581 7.64421 64.0807 6.12227C62.2481 3.83689 59.4325 2.37363 56.2751 2.37363H11.7035Z"
                        fill="url(#paint0_linear)" />
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M10 0C4.47715 0 0 4.47715 0 10V44C0 49.5228 4.47716 54 10 54H51.2893C54.1006 54 56.6409 52.84 58.4577 50.9725C54.9233 49.6204 51.8919 46.4672 49.8602 44.354C49.0281 43.4885 48.3637 42.7974 47.9012 42.4759C46.7293 41.6616 47.0054 39.0803 47.3022 36.306C47.5758 33.7478 47.867 31.0256 47.0565 29.3736C46.3224 27.8773 46.5277 27.2597 46.8636 26.2491C47.3007 24.9341 47.959 22.9537 47.0565 17.5055C45.3738 7.34702 52.4676 5.63738 59.2376 4.00577C59.2536 4.00191 59.2697 3.99804 59.2857 3.99418C57.461 1.5686 54.5584 0 51.2893 0H10Z"
                        fill="url(#paint1_linear)" />
                    <rect x="6" y="12" width="35" height="8" rx="4" fill="#FF9F47" />
                    <rect x="6" y="24" width="30" height="8" rx="4" fill="#EE7D7D" />
                    <rect x="6" y="36" width="36" height="8" rx="4" fill="#67D3CD" />
                    <defs>
                        <linearGradient id="paint0_linear" x1="8.3746" y1="15.1221" x2="57.7784" y2="43.7947"
                            gradientUnits="userSpaceOnUse">
                            <stop stop-color="#80305C" />
                            <stop offset="1" stop-color="#385979" />
                        </linearGradient>
                        <linearGradient id="paint1_linear" x1="6.3405" y1="13.6484" x2="55.9436" y2="39.2057"
                            gradientUnits="userSpaceOnUse">
                            <stop stop-color="#9A326B" />
                            <stop offset="1" stop-color="#4C7AA8" />
                        </linearGradient>
                    </defs>
                </svg>
            </a>

            <div>
                <a href="/"><p id="title">Onebite.dev</p></a>
                <p id="subtitle">Developer tips & trick, one bite at a time</p>
            </div>
        </div>

        <div>
            <input id="search" type="text" class="searchbox" placeholder="search here...">
            <script>
                document.getElementById("search").addEventListener("keyup", function (event) {
                        if (event.keyCode === 13) {
                            event.preventDefault();
                            const searchQ = document.getElementById("search").value
                            window.location.href = '/search?q=' + searchQ
                        }
                    });
            </script>
        </div>
    </div>

    <nav>
        <a href="/">All</a> /
        <a href="/series">Series</a> /
        <a href="https://twitter.com/fullofdev" target="_blank">Twitter</a> /
        <a href="https://freestuff.dev/" target="_blank">Free Stuff for Dev</a> /
        <a href="https://finddev.tools" target="_blank">Find Developer Tools</a> /
        <a href="https://tinyletter.com/onebitedev" target="_blank">Newsletter</a>
    </nav>
    </header>


<section id="post">
    <h1 class="title">Solve root can&#39;t access server after change password in digital ocean</h1>
    <div>
      <button id="bitesize-btn" onclick="window.location.href = window.location.href + '?mode=bitesize' ">Read in bitesize</button>
    </div>

    <div class="article"> <p>Digital ocean is a cloud platform that really nailed their Developer Experience (DX). One of the most frustrating thing as a developer is taking care of server or dev ops stuff. Today I can&rsquo;t access my server at all through SSH. There are many problem that can caused this. Let&rsquo;s see each one of them with solution</p>
<h2 id="forget-your-rootuser-password">Forget your root/user password</h2>
<p>If you just forget you root or user password.
Log in to your Digital Ocean account
go to your droplet
Choose &lsquo;access&rsquo; in tab
Reset root password</p>
<p>You will get an email with your new password.
After that try to login again to your account.</p>
<p>Watch out! this is very important, you need to enter your free temporary password that sent via email by digital ocean after the first login. So you&rsquo;ll enter your new temporary password twice. Before asked to enter your own choice new password.</p>
<h2 id="something-is-very-wrong-disk-full-ddos-attack-or-system-corrupted">Something is very wrong, disk Full, DDOS attack, or system corrupted</h2>
<p>If something went really wrong with your server, in my case was: my disk / CPU usage is full. So there is now way I can change password. Because changing password need a space, unfortunately when you need to change password, your disk is already full. So it&rsquo;s a dead end.. so I though</p>
<p>Fortunately Digital Ocean offer a very nice backdoor</p>
<h2 id="recover-data-from-droplets-with-recovery-iso">Recover data from Droplets with Recovery ISO</h2>
<p>read more and most update <a href="https://docs.digitalocean.com/products/droplets/resources/recovery-iso/">tutorial regarding recovery ISO in Digital Ocean here</a>
First time I open the official docs is super scary. But it has to be need, client need his website. The reality, is much simpler than what I think.</p>
<p>Steps:</p>
<ol>
<li>Boot intro the recovery ISO</li>
<li>Prepare the droplet for recovery</li>
<li>Recover data (optional)</li>
<li>Back to &ldquo;normal state&rdquo; (Boot from Hard Drive)</li>
</ol>
<p>Let&rsquo;s do it step by step</p>
<h2 id="turn-off-your-droplet">Turn off your droplet</h2>
<p>There is on/off button you can toggle in your droplet when you logged In.
Turn it off</p>
<h2 id="recovery-iso">Recovery ISO</h2>
<p>Go to &ldquo;recovery tab&rdquo;
and choose Boot from Recovery ISO , in my case it automatically toggle the &ldquo;on button&rdquo; again.
So my droplet is now booted from Recovery ISO.</p>
<p>If not, you can toggle the on button again manually</p>
<p><img src="https://i.ibb.co/3T0Fgfd/Screen-Shot-2021-07-27-at-7-01-14-AM.png" alt="recovery from ISO screenshot"></p>
<h2 id="access-console">Access console</h2>
<p>Now launch console from your Digital Ocean&rsquo;s droplet menu, it&rsquo;s located below you toggle on/off button.
You&rsquo;ll see the menu from recover ISO like this</p>
<pre tabindex="0"><code>This droplet is booted to the DigitalOcean recovery environment.
When you are finished, you may set your Droplet to boot from
the local disk again via the DigitalOcean control panel.

This rescue environment is based on Ubuntu 18.04.

* Network access and SSH have been enabled automatically *
* SSH Host keys do NOT match while using this rescue system *

Root Password has randomly been set to:
  exam-ple0-1234-5678
Your are strongly encouraged to use SSH keys. To import your SSH
public keys:
  From Github:        ssh-import-id gh:&lt;Github user name&gt;
  From Launchpad.net: ssh-import-id lp:&lt;launchpad user name&gt;
--------------------------------------------------------------------
1. Mount your Disk Image [Not Mounted]
2. Check Filesystem
3. Reset Droplet Root Password
4. Configure Keyboard
5. Attempt to &#39;chroot&#39; into installed system
6. Interactive Shell [/bin/bash]
Choose (1-6) and press Enter to continue.
</code></pre><p>You can choose depend on what you need,
In our case, press &ldquo;3&rdquo; to reset our password.</p>
<h2 id="do-something-with-your-data">Do something with your data</h2>
<p>If your disk is full, maybe you want to delete some files first to get free spaces. Or maybe you want to other thing with your application. Go to &ldquo;6&rdquo; from previous menu, to go to your shell.</p>
<p>After having some space, you may update your root password again</p>
<h2 id="try-from-your-terminal">Try from your terminal</h2>
<p>If anything went smooth, now try to access your server again with your new root password.
Hope it all working now!</p>
<h2 id="back-to-normal-mode">Back to &ldquo;normal mode&rdquo;</h2>
<p>Now same process as before, but to recover in normal mode.</p>
<ul>
<li>Turn off your droplet</li>
<li>In &ldquo;recovery tab&rdquo;, choose &ldquo;boot from hard drive&rdquo;</li>
<li>Turn on your droplet</li>
</ul>
<p>Good luck!</p>
 </div>

    
<div class="">

































</div> <br>


    <ul class="tags text-small">
      
      <li><a class="tags-server" href="/topic/server">server</a> </li>
      
      <li><a class="tags-devops" href="/topic/devops">devops</a> </li>
      
      <li id="date"> Sun Jul 25, 2021 </li>
    </ul>


   

   


    <br>
    <a href="/">🏊🏾‍♀️ Back Home</a>

</section>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/styles/atom-one-dark.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

<style>
  #bitesize_wrapper {
    background: #29313D;
    position: absolute;
    top: 0px;
    left: 10%;
    width: 80%;
    height: 100%;
    padding: 50px 200px;
  }

  #bitesize_wrapper h2{
    line-height: 2.2rem;
  }
  @media only screen and (max-width: 1000px) {
    #bitesize_wrapper {
      left: 0px;
      width: 100%;
      padding: 50px;
    }
  }

  #slide-menu{
    text-align: right;
    border-top: 1px solid grey;
    padding-top: 20px;
    padding-bottom: 10px;
  }

  #slide-menu h1{
    font-size: 24px;
    margin-bottom: 20px;
  }

  #slide-nav span{
    font-size: 16px;
    background: orange;
    padding: 5px 10px;
  }
  #slide-nav span:hover{
    cursor: pointer;
  }
</style>


<script src="/js/bitesize-prod.js" defer> </script>
<script>
  const _article = document.getElementsByClassName('article')[0]
  
  if(!_article.innerHTML.includes("</h2>"))
    document.getElementById('bitesize-btn').style.display = "none"

  
  const _links = _article.getElementsByTagName('a')
  for (var i = 0; i<_links.length; i++) {
    _links[i].setAttribute('target', '_blank')
  }
</script>


    <footer>
        <br> <hr> <br>
        <small>
        <p>
            <a href="/series">Series</a> /
            <a href="/index.xml">RSS</a> /
            <a href="/sitemap.xml">Sitemap</a> /
            <a href="https://twitter.com/fullofdev" target="_blank">Twitter</a> /
            <a href="https://tinyletter.com/onebitedev" target="_blank">Subscribe newsletter</a>
        </p>

        <p>
            <a href="https://freestuff.dev/" target="_blank">Free stuff for Dev</a> /
            <a href="https://finddev.tools" target="_blank">Best Developer Tools</a> /
            <a href="https://fromdevtodev.com" target="_blank">Art of teaching Dev</a>
        </p>
        </small>
    </footer>

    <script async defer src="https://sa-api.hilman.space/latest.js"></script>
    <noscript><img src="https://sa-api.hilman.space/noscript.gif" alt="" referrerpolicy="no-referrer-when-downgrade" /></noscript>
</body>
</html>